{% extends 'base.html.twig' %}

{% block title %}Créer un message{% endblock %}

{% block body %}
<div class="max-w-md mx-auto mt-12 p-8 bg-white dark:bg-darkBg rounded-2xl shadow-md border-2 border-primaryBlue dark:border-primaryGreen">

    <h1 class="text-4xl font-extrabold text-primaryBlue dark:text-primaryGreen mb-6 text-center tracking-tight">
        Nouveau message
    </h1>

    {{ form_start(form, {'attr': {'class': 'space-y-4 bg-white dark:bg-darkBg p-4 rounded-xl border border-gray-300 dark:border-gray-700', 'enctype': 'multipart/form-data'}}) }}

        {# Champ du contenu du message (textarea) #}
        <div>
            {{ form_label(form.content, 'Contenu', {'label_attr': {'class': 'block mb-1 font-bold text-gray-900 dark:text-gray-200'}}) }}
            {{ form_widget(form.content, {
                'attr': {
                    'class': 'w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-xl shadow-sm bg-white dark:bg-darkBg text-gray-900 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-primaryBlue dark:focus:ring-primaryGreen focus:border-transparent',
                    'placeholder': 'Entrez le contenu du message...'
                }
            }) }}
            {{ form_errors(form.content) }}
        </div>

        {# Champ de l’image (input file) #}
        <div>
            {{ form_label(form.image, 'Image (optionnelle)', {'label_attr': {'class': 'block mb-1 font-bold text-gray-900 dark:text-gray-200'}}) }}
            {{ form_widget(form.image, {
                'attr': {
                    'class': 'w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-xl shadow-sm bg-white dark:bg-darkBg text-gray-900 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-primaryBlue dark:focus:ring-primaryGreen focus:border-transparent'
                }
            }) }}
            {{ form_errors(form.image) }}
        </div>

        {# Bouton envoyer en bas #}
        <button type="submit" class="w-full py-2 mt-4 bg-primaryBlue dark:bg-primaryGreen text-white font-bold rounded-xl shadow-md hover:opacity-90 transition">
            Publier le message
        </button>

    {{ form_end(form) }}
</div>
{% endblock %}
